# $Id$
include $(TOP)/config/make.cfg

INCSUBDIRS := \
    GL

FILES := \
    gltk.h \
    glaux.h 

INCLUDES      := $(foreach d,$(INCSUBDIRS),$(wildcard $(d)/*.h)) $(FILES)
DEST_INCLUDES := $(foreach f,$(INCLUDES),$(INCDIR)/$(f))

#MM mesa-includes : includes setup-mesa-includes
mesa-includes : $(DEST_INCLUDES)
	@$(NOP)

$(INCDIR)/%.h : %.h
	$(CP) $< $@

#MM
setup-mesa-includes :
	@$(FOR) dir in $(INCDIR) $(foreach f,$(INCSUBDIRS),$(INCDIR)/$(f)) ; do \
	   $(IF) $(TEST) ! -d "$$dir" ; then $(MKDIR) "$$dir" ; else true ; fi ;\
	done

#MM
clean :
	-$(RM) $(INCDIR)
