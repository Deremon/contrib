diff -urN gawk-3.1.3.orig/io.c gawk-3.1.3/io.c
--- gawk-3.1.3.orig/io.c	2003-07-04 19:50:58.000000000 +0200
+++ gawk-3.1.3/io.c	2004-05-10 10:08:34.000000000 +0200
@@ -1422,7 +1422,7 @@
 	return 0;
 }
 
-#ifdef GETPGRP_VOID
+#if defined(GETPGRP_VOID) || defined(__AROS__)
 #define getpgrp_arg() /* nothing */
 #else
 #define getpgrp_arg() getpid()
diff -urN gawk-3.1.3.orig/main.c gawk-3.1.3/main.c
--- gawk-3.1.3.orig/main.c	2003-07-07 18:55:27.000000000 +0200
+++ gawk-3.1.3/main.c	2004-05-10 09:45:33.000000000 +0200
@@ -821,7 +821,7 @@
 load_environ()
 {
 #if ! defined(TANDEM)
-#if ! (defined(MSDOS) && !defined(DJGPP)) && ! defined(OS2) && ! (defined(VMS) && defined(__DECC))
+#if ! (defined(MSDOS) && !defined(DJGPP)) && ! defined(OS2) && ! (defined(VMS) && defined(__DECC)) && !defined(__AROS__)
 	extern char **environ;
 #endif
 	register char *var, *val;
@@ -831,7 +831,7 @@
 
 	ENVIRON_node = install("ENVIRON", 
 			node((NODE *) NULL, Node_var_array, (NODE *) NULL));
-#if ! defined(TANDEM)
+#if ! defined(TANDEM) && !defined(__AROS__)
 	for (i = 0; environ[i] != NULL; i++) {
 		static char nullstr[] = "";
 
@@ -875,7 +875,7 @@
 	PROCINFO_node = install("PROCINFO",
 			node((NODE *) NULL, Node_var_array, (NODE *) NULL));
 
-#ifdef GETPGRP_VOID
+#if defined(GETPGRP_VOID) || defined (__AROS__)
 #define getpgrp_arg() /* nothing */
 #else
 #define getpgrp_arg() getpid()
diff -urN gawk-3.1.3.orig/missing_d/tzset.c gawk-3.1.3/missing_d/tzset.c
--- gawk-3.1.3.orig/missing_d/tzset.c	2000-02-16 08:57:31.000000000 +0100
+++ gawk-3.1.3/missing_d/tzset.c	2004-05-10 11:32:44.000000000 +0200
@@ -24,7 +24,15 @@
 };
 int daylight;
 
+#ifdef __AROS__
+char *timezone(int tz, int b)
+{
+const char dummy[] = "GMT";
+return dummy;
+}
+#else
 extern char *timezone();
+#endif
 
 void
 tzset()
diff -urN gawk-3.1.3.orig/mmakefile.src gawk-3.1.3/mmakefile.src
--- gawk-3.1.3.orig/mmakefile.src	1970-01-01 01:00:00.000000000 +0100
+++ gawk-3.1.3/mmakefile.src	2004-05-10 09:39:23.000000000 +0200
@@ -0,0 +1,9 @@
+# Copyright © 2004, The AROS Development Team. All rights reserved.
+# $Id$
+
+include ../../make.cfg
+
+#MM- contrib-gnu : contrib-gnu-gawk
+	
+%build_with_configure mmake=contrib-gnu-gawk nix=yes prefix=$(GNUDIR)/gawk extraoptions="--disable-nls"
+
