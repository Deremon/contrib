#   $Id$
include $(TOP)/config/make.cfg

# mmakefile.src for MUI custom class 'Mailtext'

#MM- contrib : contrib-zune-classes-mailtext

#MM  contrib-zune-classes-mailtext-demo : includes linklibs contrib-zune-classes-mailtext-mcc

#MM  contrib-zune-classes-mailtext-mcc : includes linklibs contrib-zune-classes-nlist-class \
#MM    contrib-zune-classes-mailtext-catalogs-mcc

#MM- contrib-zune-classes-mailtext : contrib-zune-classes-mailtext-mcc contrib-zune-classes-mailtext-mcp contrib-zune-classes-mailtext-demo

MCCFILES := AttributesEngine \
	 Bitfield \
	 DynStr \
	 Mailtext \
	 URLs \
	 Mailtext_mcc_locale
	 
%build_module mmake=contrib-zune-classes-mailtext-mcc \
  modname=Mailtext modtype=mcc conffile=Mailtext_mcc.conf \
  files="$(MCCFILES)" objdir=$(OBJDIR)/mcc moduledir=Extras/Zune/MCC_Mailtext/Classes/Zune \
  uselibs="amiga mui rom m"

#MM  contrib-zune-classes-mailtext-mcp : includes linklibs contrib-zune-classes-nlist-class \
#MM    contrib-zune-classes-mailtext-catalogs-mcp

MCPFILES := MailtextP \
	 Mailtext_mcp_locale
	 
%build_module mmake=contrib-zune-classes-mailtext-mcp \
  modname=Mailtext modtype=mcp conffile=Mailtext_mcp.conf \
  files=$(MCPFILES) objdir=$(OBJDIR)/mcp moduledir=Extras/Zune/MCC_Mailtext/Classes/Zune \
  uselibs="amiga mui rom m"

  
%build_prog mmake=contrib-zune-classes-mailtext-demo progname=Show_Mailtext files=show_mailtext \
    targetdir=$(CONTRIBDIR)/Zune/MCC_Mailtext/Demos \
    uselibs="amiga mui m"


#MM includes-copy

INCLUDE_FILES := mui/Mailtext_mcc.h
%copy_includes path=mui dir=mui

#MM- contrib-zune-classes-mailtext-catalogs : contrib-zune-classes-mailtext-mcc-catalogs

#MM contrib-zune-classes-mailtext-catalogs-mcc :
contrib-zune-classes-mailtext-catalogs-mcc : Mailtext_mcc_locale.c loc/Mailtext_mcc.h

loc/Mailtext_mcc.h : Mailtext_mcc_locale.c
Mailtext_mcc_locale.c : loc/Mailtext_mcc.cd loc/C_h.sd loc/C_c.sd
	@$(ECHO) "Generating locale file $@..."
	@$(FLEXCAT) loc/Mailtext_mcc.cd loc/Mailtext_mcc.h=loc/C_h.sd Mailtext_mcc_locale.c=loc/C_c.sd

#MM contrib-zune-classes-mailtext-catalogs-mcp :
contrib-zune-classes-mailtext-catalogs-mcp : Mailtext_mcp_locale.c loc/Mailtext_mcp.h

loc/Mailtext_mcp.h : Mailtext_mcp_locale.c
Mailtext_mcp_locale.c : loc/Mailtext_mcp.cd loc/C_h.sd loc/C_c.sd
	@$(ECHO) "Generating locale file $@..."
	@$(FLEXCAT) loc/Mailtext_mcp.cd loc/Mailtext_mcp.h=loc/C_h.sd Mailtext_mcp_locale.c=loc/C_c.sd

%common

